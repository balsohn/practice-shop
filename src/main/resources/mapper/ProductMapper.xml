<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.shop.mapper.ProductMapper">
	<select id="list" resultType="kr.co.shop.dto.ProductDTO">
		select * from product where 
		pcode like concat(#{pcode},'%')
		order by ${order} limit #{index},20
	</select>
	<select id="getDaeName" resultType="string">
		select name from dae
		where code=#{code}
	</select>
	<select id="getJungName" resultType="string">
		select name from jung
		where code=#{code} and daecode=#{daecode}
	</select>
	<select id="getSoName" resultType="string">
		select name from so
		where code=#{code} and daejung=#{daejung}
	</select>
	<select id="getChong" resultType="int">
		select ceil(count(*)/20) from product where pcode like
		concat(#{pcode},'%')
	</select>
	<select id="content" resultType="kr.co.shop.dto.ProductDTO">
		select * from product where pcode=#{pcode}
	</select>
</mapper>